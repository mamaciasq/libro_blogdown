<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>blogdown: Creación de sitios web con R Markdown</title>
  <meta name="description" content="Un guía para crear sitios web con R Markdown y el paquete blogdown de R.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="blogdown: Creación de sitios web con R Markdown" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://bookdown.org/yihui/blogdown/" />
  <meta property="og:image" content="https://bookdown.org/yihui/blogdown/images/cover.png" />
  <meta property="og:description" content="Un guía para crear sitios web con R Markdown y el paquete blogdown de R." />
  <meta name="github-repo" content="rstudio/blogdown" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="blogdown: Creación de sitios web con R Markdown" />
  
  <meta name="twitter:description" content="Un guía para crear sitios web con R Markdown y el paquete blogdown de R." />
  <meta name="twitter:image" content="https://bookdown.org/yihui/blogdown/images/cover.png" />

<meta name="author" content="Yihui Xie, Amber Thomas, Alison Presmanes Hill">


<meta name="date" content="2018-03-31">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="github-pages.html">
<link rel="next" href="gitlab-pages.html">
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Creación de sitios web con R Markdown</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a><ul>
<li class="chapter" data-level="" data-path="estructura-del-libro.html"><a href="estructura-del-libro.html"><i class="fa fa-check"></i>Estructura del libro</a></li>
<li class="chapter" data-level="" data-path="software-info.html"><a href="software-info.html"><i class="fa fa-check"></i>Información de Software y convenciones</a></li>
<li class="chapter" data-level="" data-path="agradecimientos.html"><a href="agradecimientos.html"><i class="fa fa-check"></i>Agradecimientos</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="author.html"><a href="author.html"><i class="fa fa-check"></i>Sobre los autores</a><ul>
<li class="chapter" data-level="" data-path="yihui-xie.html"><a href="yihui-xie.html"><i class="fa fa-check"></i>Yihui Xie</a></li>
<li class="chapter" data-level="" data-path="amber-thomas.html"><a href="amber-thomas.html"><i class="fa fa-check"></i>Amber Thomas</a></li>
<li class="chapter" data-level="" data-path="alison-presmanes-hill.html"><a href="alison-presmanes-hill.html"><i class="fa fa-check"></i>Alison Presmanes Hill</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="comienzo.html"><a href="comienzo.html"><i class="fa fa-check"></i><b>1</b> Comienzo</a><ul>
<li class="chapter" data-level="1.1" data-path="instalacion.html"><a href="instalacion.html"><i class="fa fa-check"></i><b>1.1</b> Instalación</a><ul>
<li class="chapter" data-level="1.1.1" data-path="instalacion.html"><a href="instalacion.html#actualizacion"><i class="fa fa-check"></i><b>1.1.1</b> Actualización</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="un-ejemplo-rapido.html"><a href="un-ejemplo-rapido.html"><i class="fa fa-check"></i><b>1.2</b> Un ejemplo rápido</a></li>
<li class="chapter" data-level="1.3" data-path="rstudio-ide.html"><a href="rstudio-ide.html"><i class="fa fa-check"></i><b>1.3</b> RStudio IDE</a></li>
<li class="chapter" data-level="1.4" data-path="opciones-globales.html"><a href="opciones-globales.html"><i class="fa fa-check"></i><b>1.4</b> Opciones globales</a></li>
<li class="chapter" data-level="1.5" data-path="output-format.html"><a href="output-format.html"><i class="fa fa-check"></i><b>1.5</b> R Markdown vs. Markdown</a></li>
<li class="chapter" data-level="1.6" data-path="otros-temas.html"><a href="otros-temas.html"><i class="fa fa-check"></i><b>1.6</b> Otros temas</a></li>
<li class="chapter" data-level="1.7" data-path="workflow.html"><a href="workflow.html"><i class="fa fa-check"></i><b>1.7</b> Un flujo de trabajo recomendado</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="hugo.html"><a href="hugo.html"><i class="fa fa-check"></i><b>2</b> Hugo</a><ul>
<li class="chapter" data-level="2.1" data-path="static-sites.html"><a href="static-sites.html"><i class="fa fa-check"></i><b>2.1</b> Sitios estáticos y Hugo</a></li>
<li class="chapter" data-level="2.2" data-path="configuracion.html"><a href="configuracion.html"><i class="fa fa-check"></i><b>2.2</b> Configuración</a><ul>
<li class="chapter" data-level="2.2.1" data-path="configuracion.html"><a href="configuracion.html#sintaxis-toml"><i class="fa fa-check"></i><b>2.2.1</b> Sintaxis TOML</a></li>
<li class="chapter" data-level="2.2.2" data-path="configuracion.html"><a href="configuracion.html#opciones"><i class="fa fa-check"></i><b>2.2.2</b> Opciones</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="contenido.html"><a href="contenido.html"><i class="fa fa-check"></i><b>2.3</b> Contenido</a><ul>
<li class="chapter" data-level="2.3.1" data-path="contenido.html"><a href="contenido.html#metadatos-yaml"><i class="fa fa-check"></i><b>2.3.1</b> Metadatos YAML</a></li>
<li class="chapter" data-level="2.3.2" data-path="contenido.html"><a href="contenido.html#cuerpo"><i class="fa fa-check"></i><b>2.3.2</b> Cuerpo</a></li>
<li class="chapter" data-level="2.3.3" data-path="contenido.html"><a href="contenido.html#codigo-corto"><i class="fa fa-check"></i><b>2.3.3</b> Código corto</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="temas.html"><a href="temas.html"><i class="fa fa-check"></i><b>2.4</b> Temas</a><ul>
<li class="chapter" data-level="2.4.1" data-path="temas.html"><a href="temas.html#el-tema-por-defecto"><i class="fa fa-check"></i><b>2.4.1</b> El tema por defecto</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="plantillas.html"><a href="plantillas.html"><i class="fa fa-check"></i><b>2.5</b> Plantillas</a><ul>
<li class="chapter" data-level="2.5.1" data-path="plantillas.html"><a href="plantillas.html#un-pequeno-ejemplo"><i class="fa fa-check"></i><b>2.5.1</b> Un pequeño ejemplo</a></li>
<li class="chapter" data-level="2.5.2" data-path="plantillas.html"><a href="plantillas.html#how-to"><i class="fa fa-check"></i><b>2.5.2</b> Implementando más funciones</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="layouts-personalizados.html"><a href="layouts-personalizados.html"><i class="fa fa-check"></i><b>2.6</b> Layouts personalizados</a></li>
<li class="chapter" data-level="2.7" data-path="archivos-estaticos.html"><a href="archivos-estaticos.html"><i class="fa fa-check"></i><b>2.7</b> Archivos estáticos</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="implementacion.html"><a href="implementacion.html"><i class="fa fa-check"></i><b>3</b> Implementación</a><ul>
<li class="chapter" data-level="3.1" data-path="netlify.html"><a href="netlify.html"><i class="fa fa-check"></i><b>3.1</b> Netlify</a></li>
<li class="chapter" data-level="3.2" data-path="updog.html"><a href="updog.html"><i class="fa fa-check"></i><b>3.2</b> Updog</a></li>
<li class="chapter" data-level="3.3" data-path="github-pages.html"><a href="github-pages.html"><i class="fa fa-check"></i><b>3.3</b> GitHub Pages</a></li>
<li class="chapter" data-level="3.4" data-path="travis-github.html"><a href="travis-github.html"><i class="fa fa-check"></i><b>3.4</b> Travis + GitHub</a></li>
<li class="chapter" data-level="3.5" data-path="gitlab-pages.html"><a href="gitlab-pages.html"><i class="fa fa-check"></i><b>3.5</b> GitLab Pages</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="migration.html"><a href="migration.html"><i class="fa fa-check"></i><b>4</b> Migration</a><ul>
<li class="chapter" data-level="4.1" data-path="desde-jekyll.html"><a href="desde-jekyll.html"><i class="fa fa-check"></i><b>4.1</b> Desde Jekyll</a></li>
<li class="chapter" data-level="4.2" data-path="desde-wordpress.html"><a href="desde-wordpress.html"><i class="fa fa-check"></i><b>4.2</b> Desde WordPress</a></li>
<li class="chapter" data-level="4.3" data-path="desde-otros-sistemas.html"><a href="desde-otros-sistemas.html"><i class="fa fa-check"></i><b>4.3</b> Desde otros sistemas</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="otros-generadores.html"><a href="otros-generadores.html"><i class="fa fa-check"></i><b>5</b> Otros generadores</a><ul>
<li class="chapter" data-level="5.1" data-path="jekyll.html"><a href="jekyll.html"><i class="fa fa-check"></i><b>5.1</b> Jekyll</a></li>
<li class="chapter" data-level="5.2" data-path="hexo.html"><a href="hexo.html"><i class="fa fa-check"></i><b>5.2</b> Hexo</a></li>
<li class="chapter" data-level="5.3" data-path="rmd-website.html"><a href="rmd-website.html"><i class="fa fa-check"></i><b>5.3</b> Generados del sitio web por defecto en rmarkdown</a></li>
<li class="chapter" data-level="5.4" data-path="pkgdown.html"><a href="pkgdown.html"><i class="fa fa-check"></i><b>5.4</b> pkgdown</a></li>
</ul></li>
<li class="appendix"><span><b>Apéndice</b></span></li>
<li class="chapter" data-level="A" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>A</b> R Markdown</a></li>
<li class="chapter" data-level="B" data-path="conceptos-basicos-de-sitios-web.html"><a href="conceptos-basicos-de-sitios-web.html"><i class="fa fa-check"></i><b>B</b> Conceptos básicos de sitios web</a><ul>
<li class="chapter" data-level="B.1" data-path="html.html"><a href="html.html"><i class="fa fa-check"></i><b>B.1</b> HTML</a></li>
<li class="chapter" data-level="B.2" data-path="css.html"><a href="css.html"><i class="fa fa-check"></i><b>B.2</b> CSS</a></li>
<li class="chapter" data-level="B.3" data-path="javascript.html"><a href="javascript.html"><i class="fa fa-check"></i><b>B.3</b> JavaScript</a></li>
<li class="chapter" data-level="B.4" data-path="recursos-utiles.html"><a href="recursos-utiles.html"><i class="fa fa-check"></i><b>B.4</b> Recursos útiles</a><ul>
<li class="chapter" data-level="B.4.1" data-path="recursos-utiles.html"><a href="recursos-utiles.html#organizacion-de-archivos"><i class="fa fa-check"></i><b>B.4.1</b> Organización de archivos</a></li>
<li class="chapter" data-level="B.4.2" data-path="recursos-utiles.html"><a href="recursos-utiles.html#ayudando-a-las-personas-a-encontrar-su-sitio"><i class="fa fa-check"></i><b>B.4.2</b> Ayudando a las personas a encontrar su sitio</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="C" data-path="nombre-de-dominio.html"><a href="nombre-de-dominio.html"><i class="fa fa-check"></i><b>C</b> Nombre de dominio</a><ul>
<li class="chapter" data-level="C.1" data-path="registro.html"><a href="registro.html"><i class="fa fa-check"></i><b>C.1</b> Registro</a></li>
<li class="chapter" data-level="C.2" data-path="nombres-de-servidores.html"><a href="nombres-de-servidores.html"><i class="fa fa-check"></i><b>C.2</b> Nombres de servidores</a></li>
<li class="chapter" data-level="C.3" data-path="resgistro-dns.html"><a href="resgistro-dns.html"><i class="fa fa-check"></i><b>C.3</b> Resgistro DNS</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="topicos-avanzados.html"><a href="topicos-avanzados.html"><i class="fa fa-check"></i><b>D</b> Tópicos avanzados</a><ul>
<li class="chapter" data-level="D.1" data-path="mas-opciones-globales.html"><a href="mas-opciones-globales.html"><i class="fa fa-check"></i><b>D.1</b> Más opciones globales</a></li>
<li class="chapter" data-level="D.2" data-path="livereload.html"><a href="livereload.html"><i class="fa fa-check"></i><b>D.2</b> LiveReload</a></li>
<li class="chapter" data-level="D.3" data-path="local-preview.html"><a href="local-preview.html"><i class="fa fa-check"></i><b>D.3</b> Construyendo un sitio web para vista previa local</a></li>
<li class="chapter" data-level="D.4" data-path="funciones.html"><a href="funciones.html"><i class="fa fa-check"></i><b>D.4</b> Funciones del paquete de blogdown</a><ul>
<li class="chapter" data-level="D.4.1" data-path="funciones.html"><a href="funciones.html#funciones-exportadas"><i class="fa fa-check"></i><b>D.4.1</b> Funciones exportadas</a></li>
<li class="chapter" data-level="D.4.2" data-path="funciones.html"><a href="funciones.html#funciones-no-exportadas"><i class="fa fa-check"></i><b>D.4.2</b> Funciones no exportadas</a></li>
</ul></li>
<li class="chapter" data-level="D.5" data-path="rutas-de-figuras-y-otras-dependencias-dep-path.html"><a href="rutas-de-figuras-y-otras-dependencias-dep-path.html"><i class="fa fa-check"></i><b>D.5</b> Rutas de figuras y otras dependencias {# dep-path}</a></li>
<li class="chapter" data-level="D.6" data-path="html-widgets.html"><a href="html-widgets.html"><i class="fa fa-check"></i><b>D.6</b> HTML widgets</a></li>
<li class="chapter" data-level="D.7" data-path="control-de-versiones.html"><a href="control-de-versiones.html"><i class="fa fa-check"></i><b>D.7</b> Control de versiones</a></li>
<li class="chapter" data-level="D.8" data-path="default-plantilla.html"><a href="default-plantilla.html"><i class="fa fa-check"></i><b>D.8</b> La plantilla por defecto en HTML</a></li>
<li class="chapter" data-level="D.9" data-path="métodos.html"><a href="métodos.html"><i class="fa fa-check"></i><b>D.9</b> Diferentes métodos de construcción</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="experiencia-personal.html"><a href="experiencia-personal.html"><i class="fa fa-check"></i><b>E</b> Experiencia personal</a></li>
<li class="chapter" data-level="" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i>Referencias</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Publicado con bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">blogdown: Creación de sitios web con R Markdown</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="travis-github" class="section level2">
<h2><span class="header-section-number">3.4</span> Travis + GitHub</h2>
<p>Si decide no seguir nuestra recomendación de usar Netlify para implementar su sitio web, debemos advertirle que el enfoque de esta sección requerirá un conocimiento sustancial sobre GIT, GitHub, Travis CI (<a href="https://travis-ci.org" class="uri">https://travis-ci.org</a>), y la línea de comandos de Linux, que dejaremos que aprenda por su cuenta. La principal ventaja de publicar a través de Travis CI es que puede compilar todas sus publicaciones de Rmd en Travis CI (en la nube) en lugar de su computadora local.</p>
<p>En caso de que no esté familiarizado con Travis, este es un servicio de verificación continua de su software en una máquina virtual cada vez que haga push a cambios en GitHub. Es principalmente para probar software, pero dado que puede ejecutar muchos comandos en su máquina virtual, puede usar la máquina virtual para hacer otras cosas, por ejemplo, instalar R y el paquete <strong>blogdown</strong> para crear sitios web. Antes de mostrarle cómo, me gustaría mencionar dos cuestiones que debe tener en cuenta:</p>
<ul>
<li><p>Personalmente, prefiero echar un vistazo a la salida en GIT para ver los cambios cuando tengo cualquier salida que se calcula dinámicamente desde R, para que sepa con certeza qué voy a publicar exactamente. Con Travis, es algo impredecible porque es completamente automático y no tiene la oportunidad de ver el nuevo contenido o los resultados que se publicarán. Hay muchos factores que pueden afectar la construcción del sitio: la versión de R, la disponibilidad de ciertos paquetes en R, las dependencias del sistema y la conexión de red, etc.</p></li>
<li><p>El tiempo requerido para compilar todos los archivos Rmd puede ser muy largo y causar tiempos de espera en Travis, dependiendo de cuánto tiempo consuma su código en R. Hay un mecanismo de almacenamiento en caché en <strong>blogdown</strong> para acelerar la construcción de su sitio (consulte la sección <a href="métodos.html#métodos">D.9</a>), y si usa Travis para construir su sitio web, no se beneficiará de este mecanismo de almacenamiento en caché a menos que aproveche el almacenamiento en caché de Travis. Tiene que almacenar en caché los directorios <code>content/</code>, <code>static/</code>, y <code>blogdown/</code>, pero el caché de Travis es un poco frágil, en mi experiencia. Algunas veces la memoria caché puede ser purgada por razones desconocidas. Además, no puede almacenar en caché directamente <code>content/</code> y <code>static/</code>, porque Travis clona su repositorio antes de restaurar el caché, lo que significa que los archivos viejos del <code>content/</code> y <code>static/</code> almacenados en caché pueden sobrescribir los nuevos archivos que usted envió a GitHub.</p></li>
</ul>
<p>El segundo problema se puede resolver, pero no quiero explicar cómo en este libro, ya que la solución es demasiado complicada. Si realmente desea usar Travis para construir su sitio web y encontrarse con este problema, puede presentar un issue en el repositorio de GitHub <a href="https://github.com/yihui/travis-blogdown" class="uri">https://github.com/yihui/travis-blogdown</a>. De hecho, este repositorio es un ejemplo mínimo que creé para mostrar cómo crear un sitio web en Travis y publicarlo en GitHub Pages.</p>
<p>La documentación de Travis muestra cómo implementar un sitio en GitHub Pages: <a href="https://docs.travis-ci.com/user/deployment/pages/" class="uri">https://docs.travis-ci.com/user/deployment/pages/</a>, pero no muestra cómo crear un sitio. Aquí está el archivo de configuración de Travis, <code>.travis.yml</code>, para el repositorio <code>travis-blogdown</code>:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb67-1" data-line-number="1"><span class="fu">language:</span><span class="at"> r</span></a>
<a class="sourceLine" id="cb67-2" data-line-number="2"><span class="fu">dist:</span><span class="at"> trusty</span></a>
<a class="sourceLine" id="cb67-3" data-line-number="3"><span class="fu">sudo:</span><span class="at"> false</span></a>
<a class="sourceLine" id="cb67-4" data-line-number="4"></a>
<a class="sourceLine" id="cb67-5" data-line-number="5"><span class="fu">branches:</span></a>
<a class="sourceLine" id="cb67-6" data-line-number="6">  <span class="fu">only:</span></a>
<a class="sourceLine" id="cb67-7" data-line-number="7">    <span class="kw">-</span> master</a>
<a class="sourceLine" id="cb67-8" data-line-number="8"></a>
<a class="sourceLine" id="cb67-9" data-line-number="9"><span class="fu">cache:</span></a>
<a class="sourceLine" id="cb67-10" data-line-number="10">  <span class="fu">packages:</span><span class="at"> yes</span></a>
<a class="sourceLine" id="cb67-11" data-line-number="11">  <span class="fu">directories:</span></a>
<a class="sourceLine" id="cb67-12" data-line-number="12">    <span class="kw">-</span> $HOME/bin</a>
<a class="sourceLine" id="cb67-13" data-line-number="13"></a>
<a class="sourceLine" id="cb67-14" data-line-number="14"><span class="fu">before_script:</span></a>
<a class="sourceLine" id="cb67-15" data-line-number="15">  <span class="kw">-</span> <span class="st">&quot;Rscript -e &#39;blogdown::install_hugo()&#39;&quot;</span></a>
<a class="sourceLine" id="cb67-16" data-line-number="16"></a>
<a class="sourceLine" id="cb67-17" data-line-number="17"><span class="fu">script:</span></a>
<a class="sourceLine" id="cb67-18" data-line-number="18">  <span class="kw">-</span> <span class="st">&quot;Rscript -e &#39;blogdown::build_site()&#39;&quot;</span></a>
<a class="sourceLine" id="cb67-19" data-line-number="19"></a>
<a class="sourceLine" id="cb67-20" data-line-number="20"><span class="fu">deploy:</span></a>
<a class="sourceLine" id="cb67-21" data-line-number="21">  <span class="fu">provider:</span><span class="at"> pages</span></a>
<a class="sourceLine" id="cb67-22" data-line-number="22">  <span class="fu">skip_cleanup:</span><span class="at"> true</span></a>
<a class="sourceLine" id="cb67-23" data-line-number="23">  <span class="fu">github_token:</span><span class="at"> $GITHUB_TOKEN</span></a>
<a class="sourceLine" id="cb67-24" data-line-number="24">  <span class="fu">on:</span></a>
<a class="sourceLine" id="cb67-25" data-line-number="25">    <span class="fu">branch:</span><span class="at"> master</span></a>
<a class="sourceLine" id="cb67-26" data-line-number="26">  <span class="fu">local_dir:</span><span class="at"> public</span></a>
<a class="sourceLine" id="cb67-27" data-line-number="27">  <span class="fu">fqdn:</span><span class="at"> travis-blogdown.yihui.name</span></a></code></pre></div>
<p>La clave es que instalemos Hugo a través de <code>blogdown::install_hugo()</code> y construyamos el sitio a través de <code>blogdown::build_site()</code>. Para engañar a Travis para que cree este repositorio como un paquete en R, debe tener un archivo <code>DESCRIPTION</code> en el repositorio, de lo contrario, su sitio web no se compilará.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb68-1" data-line-number="1"><span class="fu">Package:</span><span class="at"> placeholder</span></a>
<a class="sourceLine" id="cb68-2" data-line-number="2"><span class="fu">Type:</span><span class="at"> Website</span></a>
<a class="sourceLine" id="cb68-3" data-line-number="3"><span class="fu">Title:</span><span class="at"> Does not matter.</span></a>
<a class="sourceLine" id="cb68-4" data-line-number="4"><span class="fu">Version:</span><span class="at"> 0.0.1</span></a>
<a class="sourceLine" id="cb68-5" data-line-number="5"><span class="fu">Imports:</span><span class="at"> blogdown</span></a>
<a class="sourceLine" id="cb68-6" data-line-number="6"><span class="fu">Remotes:</span><span class="at"> rstudio/blogdown</span></a></code></pre></div>
<p>Hay algunas cosas más que explicar y enfatizar en <code>.travis.yml</code>:</p>
<ul>
<li><p>La opción <code>branches</code> especifica que solo los cambios en la rama <code>master</code> activarán la construcción en Travis.</p></li>
<li><p>La opción <code>cache</code> especifica todos los paquetes en R que se almacenarán en caché, por lo que la próxima vez será más rápido crear el sitio (no es necesario volver a instalar los paquetes en R desde el origen). El directorio <code>bin/</code> en el directorio de inicio también se almacena en caché porque Hugo está instalado allí, y la próxima vez que Hugo no necesite ser reinstalado.</p></li>
<li><p>Para la opción <code>deploy</code>, hay una variable de entorno llamada <code>GITHUB_TOKEN</code>, y he especificado su valor para ser un token de acceso personal de GitHub a través de la configuración de Travis de este repositorio, para que Travis pueda escribir en mi repositorio después de que el sitio web está construido. La opción <code>on</code> especifica que la implementación solo ocurrirá cuando se construya la rama <code>master</code>. La opción <code>local_dir</code> es el directorio de publicación, que debe ser ‘público’ por defecto en Hugo. Por defecto, el sitio web se envía a la rama <code>gh-pages</code> de este repositorio. La opción <code>fqdn</code> especifica el dominio personalizado del sitio web. He establecido un registro CNAME (ver apéndice @ref(nombre de dominio)) para apuntar <code>travis-blogdown.yihui.name</code> a <code>yihui.github.io</code>, para que GitHub pueda servir a este sitio web a través de este dominio (de hecho, Travis escribirá un archivo <code>CNAME</code> que contiene el dominio en la rama <code>gh-pages</code>).</p></li>
</ul>
<p>Si utiliza el repositorio <code>username.github.io</code> en GitHub, el sitio web debe ser enviado a su rama <code>master</code> en lugar de <code>gh-pages</code> (esta es la única excepción). Recomiendo que separe el repositorio fuente y el repositorio de salida. Por ejemplo, puede tener un repositorio <code>website-source</code> con la misma configuración que el <code>.travis.yml</code> anterior, excepto dos nuevas opciones bajo <code>deploy</code>:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb69-1" data-line-number="1"><span class="fu">deploy:</span></a>
<a class="sourceLine" id="cb69-2" data-line-number="2">  ...</a>
<a class="sourceLine" id="cb69-3" data-line-number="3">  <span class="fu">repo:</span><span class="at"> username/username.github.io</span></a>
<a class="sourceLine" id="cb69-4" data-line-number="4">  <span class="fu">target_branch:</span><span class="at"> master</span></a></code></pre></div>
<p>Esto significa que el sitio web será enviado a la rama <code>master</code> del repositorio <code>username/username.github.io</code> (recuerde reemplazar <code>username</code> con su nombre de usuario real).</p>
<p>También puede implementar su sitio web en Amazon S3, y la configuración desde R es muy similar a lo que hemos introducido para GitHub Pages. La única diferencia está en el último paso, donde cambia el destino de GitHub Pages a Amazon S3. Para obtener más información, consulte la documentación de Travis: <a href="https://docs.travis-ci.com/user/deployment/s3/" class="uri">https://docs.travis-ci.com/user/deployment/s3/</a>.</p>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="github-pages.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="gitlab-pages.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mamaciasq/libro_blogdown03-deploy.Rmd",
"text": "Edit"
},
"download": ["blogdown.pdf", "blogdown.epub"],
"toc": {
"collapse": "none"
}
});
});
</script>

</body>

</html>
